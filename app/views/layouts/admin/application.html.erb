<!DOCTYPE html>
<html lang="pt-BR">
  <%= render 'layouts/partials/head', title: 'WashDash Admin' %>
  <body class="admin">
    <div class="sidebar sidebar-dark sidebar-fixed" id="sidebar">
      <div class="sidebar-brand d-flex align-items-center">
        <div class="sidebar-brand-full">WashDash</div>
        <div class="sidebar-brand-narrow">WD</div>
      </div>
      <%= render 'layouts/admin/partials/sidenav'%>
    </div>
    
    <div class="wrapper d-flex flex-column min-vh-100">
      <header class="header header-sticky">
        <div class="container-fluid">
          <button class="header-toggler px-md-0 me-md-3 d-lg-none" type="button" data-sidebar-toggle>
            <i class="cil-menu"></i>
          </button>
          <%= render 'layouts/admin/partials/navbar'%>
        </div>
      </header>
      
      <div class="body flex-grow-1">
        <div class="container-lg">

          <!-- Flash Messages -->
          <% flash.each do |name, msg| %>
            <% if msg.is_a?(String) %>
              <div class="alert alert-<%= name.to_s == 'notice' ? 'success' : 'danger' %> alert-dismissible fade show" role="alert">
                <%= msg %>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            <% end %>
          <% end %>

          <!-- Main Content -->
          <%= yield %>
        </div>
      </div>

      <footer class="footer">
        <div class="container-fluid">
          <div class="row align-items-center justify-content-between">
            <div class="col-md">
              <div class="text-body-secondary">WashDash Admin &copy; <%= Time.current.year %></div>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </body>
</html>